<tool id="proteomics_query" name="Query the proteomics database" version="0.1.0">
    <requirements>
    </requirements>
    <stdio>
        <exit_code range="1:" />
    </stdio>

    <command interpreter="python">query_data.py --query $query_type --value "$query_value" > "$output1"</command>
    <inputs>
        <param name="query_type" type="select" label="Get...">
            <option value="sequence" selected="true">All peptides with a specific sequence</option>
            <option value="protein">All proteins with a specific accession</option>
            <option value="project">All proteins within a specific proteome</option>
        </param>
        <param name="query_value" type="text" label="with this specific value" help="enter a peptide sequence, a protein accession or a proteome ID"/>
    </inputs>

    <outputs>
        <data name="output1" format="tabular" label="Proteomics query on $query_type"/>
    </outputs>
    <tests>
        <test>
            <param name="query_type" value="sequence" />
	        <param name="query_value" value="DLYANTVLSGGTTMYPGIADR" />
            <output name="output1" file="seq.txt"/>
        </test>
    </tests>
    <help><![CDATA[
        usage: query_data.py [-h] --query {proteome,sequence,protein} --value VALUE

optional arguments:
  -h, --help            show this help message and exit
  --query {proteome,sequence,protein}
                        Possible queries, e.g. ['proteome', 'sequence',
                        'protein']
  --value VALUE         Value to search, e.g. proteome 'PR526' or protein
                        accession 'P63261' or peptide sequence e.g.
                        'DLYANTVLSGGTTMYPGIADR'

    ]]></help>
    <citations>
      <citation type="doi">unpublished</citation>
    </citations>
</tool>
